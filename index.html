<script>
  document.write(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImlkIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgogICAgPG1ldGEKICAgICAgbmFtZT0idmlld3BvcnQiCiAgICAgIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vIgogICAgLz4KICAgIDx0aXRsZT5ESVogQUkgUFJPSkVDSyAtIE1vZGVybiBBdXJvcmE8L3RpdGxlPgogICAgPGxpbmsKICAgICAgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Qb3BwaW5zOndnaHRANDAwOzUwMDs2MDAmZGlzcGxheT1zd2FwIgogICAgICByZWw9InN0eWxlc2hlZXQiCiAgICAvPgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vdGVzc2VyYWN0LmpzQHY0LjAuMi9kaXN0L3Rlc3NlcmFjdC5taW4uanMiPjwvc2NyaXB0PgogICAgPHN0eWxlPgogICAgICAqIHsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICB9CiAgICAgIGh0bWwsCiAgICAgIGJvZHkgewogICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgICAgZm9udC1mYW1pbHk6ICJQb3BwaW5zIiwgc2Fucy1zZXJpZjsKICAgICAgfQogICAgICBib2R5IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOwogICAgICB9CiAgICAgIGEgewogICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICBjb2xvcjogaW5oZXJpdDsKICAgICAgfQogICAgICAjYmdDYW52YXMgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB0b3A6IDA7CiAgICAgICAgbGVmdDogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgei1pbmRleDogLTE7CiAgICAgIH0KICAgICAgLmFwcC1jb250YWluZXIgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICBoZWlnaHQ6IDEwMHZoOwogICAgICB9CiAgICAgIC5hcHAtaGVhZGVyIHsKICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgdG9wOiAwOwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjMpOwogICAgICAgIHotaW5kZXg6IDEwMDA7CiAgICAgIH0KICAgICAgLnRvcC1iYXIgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgcGFkZGluZzogMTVweCAyNXB4OwogICAgICB9CiAgICAgIC5sZWZ0LXNpZGUsCiAgICAgIC5jZW50ZXIsCiAgICAgIC5yaWdodC1zaWRlIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIH0KICAgICAgLmNlbnRlciB7CiAgICAgICAgZmxleDogMTsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgfQogICAgICAucmlnaHQtc2lkZSB7CiAgICAgICAgZ2FwOiAxNXB4OwogICAgICB9CiAgICAgIC5pY29uLWJ0biB7CiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTsKICAgICAgfQogICAgICAuaWNvbi1idG46aG92ZXIgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsKICAgICAgfQogICAgICAuaGFtYnVyZ2VyIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIHdpZHRoOiAyOHB4OwogICAgICAgIGhlaWdodDogMjBweDsKICAgICAgfQogICAgICAuaGFtYnVyZ2VyIHNwYW4gewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIGhlaWdodDogM3B4OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICB9CiAgICAgIC5pY29uIHsKICAgICAgICB3aWR0aDogMjhweDsKICAgICAgICBoZWlnaHQ6IDI4cHg7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgfQogICAgICAudG9hc3QtbWVudSB7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIHRvcDogNjBweDsKICAgICAgICByaWdodDogMjVweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOwogICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgIH0KICAgICAgLnRvYXN0LW1lbnUuYWN0aXZlIHsKICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2U7CiAgICAgIH0KICAgICAgLnRvYXN0LWl0ZW0gewogICAgICAgIHBhZGRpbmc6IDEycHggMjBweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7CiAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgIH0KICAgICAgLnRvYXN0LWl0ZW06aG92ZXIgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKICAgICAgfQogICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICAgICAgZnJvbSB7CiAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTsKICAgICAgICB9CiAgICAgICAgdG8gewogICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmRpdmlkZXIgewogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOwogICAgICAgIG1hcmdpbjogMDsKICAgICAgfQogICAgICAuYXBwLWNvbnRlbnQgewogICAgICAgIG1hcmdpbi10b3A6IDgwcHg7CiAgICAgICAgZmxleDogMTsKICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgIH0KICAgICAgLmNoYXQtd2luZG93IHsKICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgdG9wOiA4MHB4OwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgYm90dG9tOiAwOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjAsIDIwLCAyMCwgMC44NSk7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgIHotaW5kZXg6IDIwMDA7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICBtYXJnaW46IDEwcHg7CiAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICAgIH0KICAgICAgLmNoYXQtaGVhZGVyIHsKICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgI2ZmMDA5OSwgIzQ5MzI0MCk7CiAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTBweDsKICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTBweDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICB9CiAgICAgIC5jaGF0LWhlYWRlciBoMiB7CiAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICB9CiAgICAgIC5jaGF0LWhlYWRlciBidXR0b24gewogICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB9CiAgICAgIC5jaGF0LWJvZHkgewogICAgICAgIGZsZXg6IDE7CiAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgZ2FwOiAxMHB4OwogICAgICB9CiAgICAgIC5jaGF0LWZvb3RlciB7CiAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBnYXA6IDEwcHg7CiAgICAgIH0KICAgICAgLmNoYXQtZm9vdGVyIHRleHRhcmVhIHsKICAgICAgICBmbGV4OiAxOwogICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICByZXNpemU6IG5vbmU7CiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIGhlaWdodDogNDVweDsKICAgICAgfQogICAgICAuY2hhdC1mb290ZXIgYnV0dG9uIHsKICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIHBhZGRpbmc6IDhweDsKICAgICAgfQogICAgICAuY2hhdC1tZXNzYWdlIHsKICAgICAgICBwYWRkaW5nOiAxMnB4IDE4cHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICBtYXgtd2lkdGg6IDgwJTsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNDsKICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7CiAgICAgIH0KICAgICAgLmNoYXQtbWVzc2FnZS5hc3Npc3RhbnQgewogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0OwogICAgICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjVzIGVhc2U7CiAgICAgIH0KICAgICAgLmNoYXQtbWVzc2FnZS51c2VyIHsKICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjAwN2YsICM2YTBkYWQpOwogICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kOwogICAgICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjVzIGVhc2U7CiAgICAgIH0KICAgICAgQGtleWZyYW1lcyBzbGlkZUluIHsKICAgICAgICBmcm9tIHsKICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgyMHB4KTsKICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgfQogICAgICAgIHRvIHsKICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgfQogICAgICB9CiAgICAgICN0YWJsZUNvbnRhaW5lciB7CiAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICBvdmVyZmxvdy14OiBhdXRvOwogICAgICB9CiAgICAgICNkeW5hbWljVGFibGUgewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgIH0KICAgICAgI2R5bmFtaWNUYWJsZSB0aCwKICAgICAgI2R5bmFtaWNUYWJsZSB0ZCB7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOwogICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgfQogICAgICAjZHluYW1pY1RhYmxlIHRoIHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPGNhbnZhcyBpZD0iYmdDYW52YXMiPjwvY2FudmFzPgogICAgPGRpdiBjbGFzcz0iYXBwLWNvbnRhaW5lciI+CiAgICAgIDxoZWFkZXIgY2xhc3M9ImFwcC1oZWFkZXIiPgogICAgICAgIDxkaXYgY2xhc3M9InRvcC1iYXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ibGVmdC1zaWRlIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaWNvbi1idG4iIGlkPSJoYW1idXJnZXJCdG4iIHRpdGxlPSJNZW51Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoYW1idXJnZXIiPgogICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iY2VudGVyIj4KICAgICAgICAgICAgPGgxPkRpeiBUZWFjaGVyPC9oMT4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0icmlnaHQtc2lkZSI+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Imljb24tYnRuIiBpZD0iZWRpdEJ0biIgdGl0bGU9IkJ1a2EgQ2hhdCI+CiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgICAgICAgICAgICAgIDxwYXRoCiAgICAgICAgICAgICAgICAgIGQ9Ik0zIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1TDMgMTcuMjV6TTIwLjcxIDcuMDRjLjM5LS4zOS4zOS0xLjAyIDAtMS40MWwtMi4zNC0yLjM0YTEgMSAwIDAgMC0xLjQxIDBsLTEuODMgMS44MyAzLjc1IDMuNzUgMS44My0xLjgzeiIKICAgICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJpY29uLWJ0biIgaWQ9InJlbG9hZEJ0biIgdGl0bGU9IlJlbG9hZCI+CiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgICAgICAgICAgICAgIDxwYXRoCiAgICAgICAgICAgICAgICAgIGQ9Ik0xMiA2VjNMOCA3bDQgNFY4YzMuMzEgMCA2IDIuNjkgNiA2IDAgLjM0LS4wMy42Ny0uMDggMWgyLjAyYy4wNS0uMzMuMDYtLjY2LjA2LTEgMC00LjQyLTMuNTgtOC04LTh6bS02IDZjMC0uMzQuMDMtLjY3LjA4LTFINC4wNmMtLjA1LjMzLS4wNi42Ni0uMDYgMSAwIDQuNDIgMy41OCA4IDggOHYzbDQtNC00LTR2M2MtMy4zMSAwLTYtMi42OS02LTZ6IgogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvYXN0LW1lbnUiIGlkPSJ0b2FzdE1lbnUiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvYXN0LWl0ZW0iIGlkPSJiYWNrdXBEYXRhIj5CYWNrdXAgRGF0YTwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvYXN0LWl0ZW0iIGlkPSJyZXN0b3JlRGF0YSI+UmVzdG9yZSBEYXRhPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idG9hc3QtaXRlbSIgaWQ9InJlc3RhcnRDaGF0Ij5NdWxhaSBVbGFuZyBDaGF0PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idG9hc3QtaXRlbSIgaWQ9ImFib3V0Ij5BYm91dDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvYXN0LWl0ZW0iIGlkPSJzaG93VGFibGUiPlRhbXBpbGthbiBUYWJlbDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxociBjbGFzcz0iZGl2aWRlciIgLz4KICAgICAgPC9oZWFkZXI+CiAgICAgIDxtYWluIGNsYXNzPSJhcHAtY29udGVudCIgaWQ9ImFwcENvbnRlbnQiPjwvbWFpbj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0iY2hhdFdpbmRvdyIgY2xhc3M9ImNoYXQtd2luZG93Ij4KICAgICAgPGRpdiBjbGFzcz0iY2hhdC1oZWFkZXIiPgogICAgICAgIDxoMj5TZWxlc2Fpa2FuIFR1Z2FzbXUgRGVuZ2FuIENlcGF0ITwvaDI+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2hhdENsb3NlQnRuIiB0aXRsZT0iVHV0dXAiPiZ0aW1lczs8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImNoYXQtYm9keSIgaWQ9ImNoYXRCb2R5Ij48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY2hhdC1mb290ZXIiPgogICAgICAgIDxidXR0b24gaWQ9ImNoYXRQbHVzQnRuIiB0aXRsZT0iUGx1cyI+CiAgICAgICAgICA8c3ZnIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgICAgICAgICA8cGF0aAogICAgICAgICAgICAgIGQ9Ik0xMiA1djE0bS03LTdoMTQiCiAgICAgICAgICAgICAgc3Ryb2tlPSIjZmZmIgogICAgICAgICAgICAgIHN0cm9rZS13aWR0aD0iMiIKICAgICAgICAgICAgICBmaWxsPSJub25lIgogICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIKICAgICAgICAgICAgLz4KICAgICAgICAgIDwvc3ZnPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDx0ZXh0YXJlYSBpZD0iY2hhdElucHV0IiBwbGFjZWhvbGRlcj0iS2V0aWsgcGVzYW4uLi4iPjwvdGV4dGFyZWE+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2hhdFNlbmRCdG4iIHRpdGxlPSJLaXJpbSI+CiAgICAgICAgICA8c3ZnIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgICAgICAgICA8cGF0aAogICAgICAgICAgICAgIGQ9Ik0yMiAyTDExIDEzIgogICAgICAgICAgICAgIHN0cm9rZT0iI2ZmZiIKICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9IjIiCiAgICAgICAgICAgICAgZmlsbD0ibm9uZSIKICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgICAgICAgICAgIC8+CiAgICAgICAgICAgIDxwYXRoCiAgICAgICAgICAgICAgZD0iTTIyIDJMMTUgMjJMMTEgMTNMMiA5bDIwLTd6IgogICAgICAgICAgICAgIHN0cm9rZT0iI2ZmZiIKICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9IjIiCiAgICAgICAgICAgICAgZmlsbD0ibm9uZSIKICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgICAgICAgICAgIC8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L2J1dHRvbj4KICAgICAgICA8aW5wdXQKICAgICAgICAgIHR5cGU9ImZpbGUiCiAgICAgICAgICBpZD0iY2hhdEZpbGVJbnB1dCIKICAgICAgICAgIGFjY2VwdD0iaW1hZ2UvKiIKICAgICAgICAgIHN0eWxlPSJkaXNwbGF5OiBub25lOyIKICAgICAgICAvPgogICAgICAgIDxpbnB1dAogICAgICAgICAgdHlwZT0iZmlsZSIKICAgICAgICAgIGlkPSJyZXN0b3JlRmlsZUlucHV0IgogICAgICAgICAgYWNjZXB0PSJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IgogICAgICAgIC8+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICB2YXIgY2hhdEhpc3RvcnkgPSBbXTsKICAgICAgZnVuY3Rpb24gaXNEZXZlbG9wZXJRdWVyeShtZXNzYWdlKSB7CiAgICAgICAgY29uc3QgbG93ZXIgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIGxvd2VyLmluY2x1ZGVzKCJwZW5nZW1iYW5nIikgfHwKICAgICAgICAgIGxvd2VyLmluY2x1ZGVzKCJwZW1idWF0IikgfHwKICAgICAgICAgIGxvd2VyLmluY2x1ZGVzKCJkaWJ1YXQgb2xlaCIpIHx8CiAgICAgICAgICBsb3dlci5pbmNsdWRlcygiZGkgYmlraW4iKQogICAgICAgICk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZm9ybWF0QW5zd2VyKGFuc3dlcikgewogICAgICAgIHJldHVybiAiRGl6IEFJIDogIiArIGFuc3dlcjsKICAgICAgfQogICAgICBmdW5jdGlvbiBnZXRBSVJlc3BvbnNlKHVzZXJNZXNzYWdlKSB7CiAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL2FwaS5haW1sYXBpLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zIiwgewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgIEF1dGhvcml6YXRpb246CiAgICAgICAgICAgICAgIkJlYXJlciA5OGM4OGNhNzQ2N2I0ZWI2YmMwZGYxM2MxNmNhYmQ3YiIKICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIG1vZGVsOiAibWlzdHJhbGFpL01pc3RyYWwtN0ItSW5zdHJ1Y3QtdjAuMiIsCiAgICAgICAgICAgIG1lc3NhZ2VzOiBbCiAgICAgICAgICAgICAgeyByb2xlOiAic3lzdGVtIiwgY29udGVudDogIllvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4iIH0sCiAgICAgICAgICAgICAgeyByb2xlOiAidXNlciIsIGNvbnRlbnQ6IHVzZXJNZXNzYWdlIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAuNywKICAgICAgICAgICAgbWF4X3Rva2VuczogMjU2CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBkYXRhLnN0YXR1c0NvZGUgJiYKICAgICAgICAgICAgICAoZGF0YS5zdGF0dXNDb2RlID09PSA0MjkgfHwKICAgICAgICAgICAgICAgIChkYXRhLm1lc3NhZ2UgJiYKICAgICAgICAgICAgICAgICAgZGF0YS5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoImxpbWl0IikpKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICByZXR1cm4gIlNvcnkgYnJlIGFwaW55YSBsaW1pdC4uLiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGRhdGEgJiYKICAgICAgICAgICAgICBkYXRhLmNob2ljZXMgJiYKICAgICAgICAgICAgICBkYXRhLmNob2ljZXMubGVuZ3RoID4gMCAmJgogICAgICAgICAgICAgIGRhdGEuY2hvaWNlc1swXS5tZXNzYWdlICYmCiAgICAgICAgICAgICAgZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudAogICAgICAgICAgICApIHsKICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudC50cmltKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5hbnN3ZXIpIHsKICAgICAgICAgICAgICByZXR1cm4gZGF0YS5hbnN3ZXIudHJpbSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAiTWFhZiwgdGlkYWsgYWRhIGphd2FiYW4geWFuZyBkaXRlcmltYS4iOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgY2FsbGluZyBBSSBBUEk6IiwgZXJyb3IpOwogICAgICAgICAgICByZXR1cm4gIk1hYWYsIHRlcmphZGkga2VzYWxhaGFuIHBhZGEgbGF5YW5hbiBBSS4iOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gYWRkQXNzaXN0YW50TWVzc2FnZShjb250ZW50KSB7CiAgICAgICAgY29uc3QgY2hhdEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdEJvZHkiKTsKICAgICAgICBjb25zdCBtZXNzYWdlQnViYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgbWVzc2FnZUJ1YmJsZS5jbGFzc0xpc3QuYWRkKCJjaGF0LW1lc3NhZ2UiLCAiYXNzaXN0YW50Iik7CiAgICAgICAgbWVzc2FnZUJ1YmJsZS5pbm5lckhUTUwgPSBjb250ZW50OwogICAgICAgIGNoYXRCb2R5LmFwcGVuZENoaWxkKG1lc3NhZ2VCdWJibGUpOwogICAgICAgIGNoYXRIaXN0b3J5LnB1c2goeyB0eXBlOiAiYXNzaXN0YW50IiwgY29udGVudDogY29udGVudCB9KTsKICAgICAgICBjaGF0Qm9keS5zY3JvbGxUb3AgPSBjaGF0Qm9keS5zY3JvbGxIZWlnaHQ7CiAgICAgICAgcmV0dXJuIG1lc3NhZ2VCdWJibGU7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gYWRkVXNlck1lc3NhZ2UoY29udGVudCkgewogICAgICAgIGNvbnN0IGNoYXRCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRCb2R5Iik7CiAgICAgICAgY29uc3QgbWVzc2FnZUJ1YmJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIG1lc3NhZ2VCdWJibGUuY2xhc3NMaXN0LmFkZCgiY2hhdC1tZXNzYWdlIiwgInVzZXIiKTsKICAgICAgICBtZXNzYWdlQnViYmxlLnRleHRDb250ZW50ID0gY29udGVudDsKICAgICAgICBjaGF0Qm9keS5hcHBlbmRDaGlsZChtZXNzYWdlQnViYmxlKTsKICAgICAgICBjaGF0SGlzdG9yeS5wdXNoKHsgdHlwZTogInVzZXIiLCBjb250ZW50OiBjb250ZW50IH0pOwogICAgICAgIGNoYXRCb2R5LnNjcm9sbFRvcCA9IGNoYXRCb2R5LnNjcm9sbEhlaWdodDsKICAgICAgfQogICAgICBmdW5jdGlvbiBpbml0QXBwKCkgewogICAgICAgIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTsKICAgICAgICBhZGRBc3Npc3RhbnRNZXNzYWdlKAogICAgICAgICAgIkhhaSwgU2F5YSBBSSBEaXogZmx5emUgYXNpc3RlbiBnYW50ZW5nIGFuZGEuIEFkYSB5YW5nIGJpc2Egc2F5YSBiYW50dT8iCiAgICAgICAgKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKCkgewogICAgICAgIGNvbnN0IGhhbWJ1cmdlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoYW1idXJnZXJCdG4iKTsKICAgICAgICBjb25zdCB0b2FzdE1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9hc3RNZW51Iik7CiAgICAgICAgaGFtYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsKICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICB0b2FzdE1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgiYWN0aXZlIik7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewogICAgICAgICAgaWYgKCF0b2FzdE1lbnUuY29udGFpbnMoZS50YXJnZXQpICYmIGUudGFyZ2V0ICE9PSBoYW1idXJnZXJCdG4pIHsKICAgICAgICAgICAgdG9hc3RNZW51LmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYWNrdXBEYXRhIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgICBiYWNrdXBDaGF0KCk7CiAgICAgICAgICB0b2FzdE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3RvcmVEYXRhIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgICByZXN0b3JlQ2hhdCgpOwogICAgICAgICAgdG9hc3RNZW51LmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN0YXJ0Q2hhdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgcmVzdGFydENoYXQoKTsKICAgICAgICAgIHRvYXN0TWVudS5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKTsKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWJvdXQiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgIGFsZXJ0KCJBSSBCWSBESVogRkxZWkUgVjEuMCIpOwogICAgICAgICAgdG9hc3RNZW51LmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzaG93VGFibGUiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgIHRvZ2dsZVRhYmxlKCk7CiAgICAgICAgICB0b2FzdE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbG9hZEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVkaXRCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgIHdpbmRvdy5vcGVuKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCAiX2JsYW5rIik7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRDbG9zZUJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRXaW5kb3ciKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0UGx1c0J0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgYWxlcnQoIiIpOwogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0U2VuZEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgICAgc2VuZENoYXRNZXNzYWdlKCk7CiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQKICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgicmVzdG9yZUZpbGVJbnB1dCIpCiAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgKGUpID0+IHsKICAgICAgICAgICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgICAgICBpZiAoIWZpbGUpIHJldHVybjsKICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY2hhdEhpc3RvcnkgPSBKU09OLnBhcnNlKGV2dC50YXJnZXQucmVzdWx0KTsKICAgICAgICAgICAgICAgIHJlc3RhcnRDaGF0KCk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJHYWdhbCBtZW11bGloa2FuIGRhdGEgYmFja3VwLiIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICBmdW5jdGlvbiBwcm9jZXNzSW1hZ2UoZmlsZSkgewogICAgICAgIGFkZEFzc2lzdGFudE1lc3NhZ2UoIkFuYWxpc2lzIGRhdGEuLi4iKTsKICAgICAgICBUZXNzZXJhY3QucmVjb2duaXplKGZpbGUsICJpbmQiLCB7CiAgICAgICAgICBsb2dnZXI6IChtKSA9PiBjb25zb2xlLmxvZyhtKQogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoeyBkYXRhOiB7IHRleHQgfSB9KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gdGV4dAogICAgICAgICAgICAgIC5zcGxpdCgiXG4iKQogICAgICAgICAgICAgIC5tYXAoKGxpbmUpID0+IGxpbmUudHJpbSgpKQogICAgICAgICAgICAgIC5maWx0ZXIoKGxpbmUpID0+IGxpbmUgIT09ICIiKTsKICAgICAgICAgICAgbGV0IHF1ZXN0aW9uID0gIiI7CiAgICAgICAgICAgIGxldCBhbnN3ZXIgPSAiIjsKICAgICAgICAgICAgZm9yIChsZXQgbGluZSBvZiBsaW5lcykgewogICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvXlxkK1wuXHMqKC4rKS8pOwogICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgcXVlc3Rpb24gPSBtYXRjaFsxXTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGxldCBsaW5lIG9mIGxpbmVzKSB7CiAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eW2FBXVwuXHMqKC4rKS8pOwogICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgYW5zd2VyID0gImEuICIgKyBtYXRjaFsxXTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSAiIjsKICAgICAgICAgICAgaWYgKHF1ZXN0aW9uICYmIGFuc3dlcikgewogICAgICAgICAgICAgIHJlc3BvbnNlID0KICAgICAgICAgICAgICAgICI8c3Ryb25nPlBlcnRhbnlhYW46PC9zdHJvbmc+ICIgKwogICAgICAgICAgICAgICAgcXVlc3Rpb24gKwogICAgICAgICAgICAgICAgIjxicj48c3Ryb25nPkphd2FiYW46PC9zdHJvbmc+ICIgKwogICAgICAgICAgICAgICAgYW5zd2VyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlc3BvbnNlID0KICAgICAgICAgICAgICAgICJUaWRhayBkYXBhdCBtZW5kZXRla3NpIHBlcnRhbnlhYW4gYXRhdSBqYXdhYmFuIGRlbmdhbiBqZWxhcy4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFkZEFzc2lzdGFudE1lc3NhZ2UocmVzcG9uc2UpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgYWRkQXNzaXN0YW50TWVzc2FnZSgiVGVyamFkaSBrZXNhbGFoYW4gc2FhdCBtZW1wcm9zZXMgZ2FtYmFyLiIpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc2VuZENoYXRNZXNzYWdlKCkgewogICAgICAgIGNvbnN0IGNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0SW5wdXQiKTsKICAgICAgICBjb25zdCBtZXNzYWdlID0gY2hhdElucHV0LnZhbHVlLnRyaW0oKTsKICAgICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjsKICAgICAgICBhZGRVc2VyTWVzc2FnZShtZXNzYWdlKTsKICAgICAgICBjaGF0SW5wdXQudmFsdWUgPSAiIjsKICAgICAgICBpZiAoaXNEZXZlbG9wZXJRdWVyeShtZXNzYWdlKSkgewogICAgICAgICAgYWRkQXNzaXN0YW50TWVzc2FnZSgiR3VhIGluaSBkaSBidWF0IHNhbWEgRGl6IEZseXplIERldmVsb3BlciwgYnJvISIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBwcm9jZXNzaW5nTXNnRWxlbSA9IGFkZEFzc2lzdGFudE1lc3NhZ2UoIlR1bmdndSBicmUuLi4iKTsKICAgICAgICBnZXRBSVJlc3BvbnNlKG1lc3NhZ2UpLnRoZW4oKGFuc3dlcikgPT4gewogICAgICAgICAgcHJvY2Vzc2luZ01zZ0VsZW0ucmVtb3ZlKCk7CiAgICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBmb3JtYXRBbnN3ZXIoYW5zd2VyKTsKICAgICAgICAgIGFkZEFzc2lzdGFudE1lc3NhZ2UoZm9ybWF0dGVkKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBmdW5jdGlvbiByZXN0YXJ0Q2hhdCgpIHsKICAgICAgICBjb25zdCBjaGF0Qm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0Qm9keSIpOwogICAgICAgIGNoYXRCb2R5LmlubmVySFRNTCA9ICIiOwogICAgICAgIGNoYXRIaXN0b3J5LmZvckVhY2goKG1lc3NhZ2UpID0+IHsKICAgICAgICAgIGNvbnN0IG1lc3NhZ2VCdWJibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIG1lc3NhZ2VCdWJibGUuY2xhc3NMaXN0LmFkZCgiY2hhdC1tZXNzYWdlIiwgbWVzc2FnZS50eXBlKTsKICAgICAgICAgIG1lc3NhZ2VCdWJibGUuaW5uZXJIVE1MID0gbWVzc2FnZS5jb250ZW50OwogICAgICAgICAgY2hhdEJvZHkuYXBwZW5kQ2hpbGQobWVzc2FnZUJ1YmJsZSk7CiAgICAgICAgfSk7CiAgICAgICAgY2hhdEJvZHkuc2Nyb2xsVG9wID0gY2hhdEJvZHkuc2Nyb2xsSGVpZ2h0OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGJhY2t1cENoYXQoKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGNoYXRIaXN0b3J5LCBudWxsLCAyKTsKICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiB9KTsKICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSAiY2hhdF9iYWNrdXBfIiArIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArICIuanNvbiI7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgfQogICAgICBmdW5jdGlvbiByZXN0b3JlQ2hhdCgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzdG9yZUZpbGVJbnB1dCIpLmNsaWNrKCk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdG9nZ2xlVGFibGUoKSB7CiAgICAgICAgY29uc3QgYXBwQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHBDb250ZW50Iik7CiAgICAgICAgbGV0IHRhYmxlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmxlQ29udGFpbmVyIik7CiAgICAgICAgaWYgKHRhYmxlQ29udGFpbmVyKSB7CiAgICAgICAgICB0YWJsZUNvbnRhaW5lci5yZW1vdmUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGFibGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIHRhYmxlQ29udGFpbmVyLmlkID0gInRhYmxlQ29udGFpbmVyIjsKICAgICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgIHRhYmxlLmlkID0gImR5bmFtaWNUYWJsZSI7CiAgICAgICAgICBjb25zdCB0aGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIik7CiAgICAgICAgICBjb25zdCBoZWFkZXJSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpOwogICAgICAgICAgY29uc3QgaGVhZGVycyA9IFsiSUQiLCAiTmFtYSIsICJOaWxhaSJdOwogICAgICAgICAgaGVhZGVycy5mb3JFYWNoKChoZWFkZXJUZXh0KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTsKICAgICAgICAgICAgdGgudGV4dENvbnRlbnQgPSBoZWFkZXJUZXh0OwogICAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQodGgpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZChoZWFkZXJSb3cpOwogICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGhlYWQpOwogICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpOwogICAgICAgICAgY29uc3QgZGF0YSA9IFsKICAgICAgICAgICAgeyBpZDogMSwgbmFtYTogIkFsaWNlIiwgbmlsYWk6IDg1IH0sCiAgICAgICAgICAgIHsgaWQ6IDIsIG5hbWE6ICJCb2IiLCBuaWxhaTogOTAgfSwKICAgICAgICAgICAgeyBpZDogMywgbmFtYTogIkNoYXJsaWUiLCBuaWxhaTogNzggfQogICAgICAgICAgXTsKICAgICAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpOwogICAgICAgICAgICBjb25zdCBjZWxsSWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwogICAgICAgICAgICBjZWxsSWQudGV4dENvbnRlbnQgPSBpdGVtLmlkOwogICAgICAgICAgICBjb25zdCBjZWxsTmFtYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgICAgICAgIGNlbGxOYW1hLnRleHRDb250ZW50ID0gaXRlbS5uYW1hOwogICAgICAgICAgICBjb25zdCBjZWxsTmlsYWkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwogICAgICAgICAgICBjZWxsTmlsYWkudGV4dENvbnRlbnQgPSBpdGVtLm5pbGFpOwogICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbElkKTsKICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGxOYW1hKTsKICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGxOaWxhaSk7CiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRib2R5KTsKICAgICAgICAgIHRhYmxlQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTsKICAgICAgICAgIGFwcENvbnRlbnQuYXBwZW5kQ2hpbGQodGFibGVDb250YWluZXIpOwogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBhdXJvcmFFZmZlY3QoKSB7CiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJnQ2FudmFzIik7CiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICBsZXQgdGltZSA9IDA7CiAgICAgICAgZnVuY3Rpb24gZHJhdygpIHsKICAgICAgICAgIHRpbWUgKz0gMC4wMDU7CiAgICAgICAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgICAgY29uc3QgcjEgPSBNYXRoLmZsb29yKDEyOCArIDEyNyAqIE1hdGguc2luKHRpbWUpKTsKICAgICAgICAgIGNvbnN0IGcxID0gTWF0aC5mbG9vcigxMjggKyAxMjcgKiBNYXRoLnNpbih0aW1lICsgMikpOwogICAgICAgICAgY29uc3QgYjEgPSBNYXRoLmZsb29yKDEyOCArIDEyNyAqIE1hdGguc2luKHRpbWUgKyA0KSk7CiAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgInJnYigiICsgcjEgKyAiLCIgKyBnMSArICIsIiArIGIxICsgIikiKTsKICAgICAgICAgIGNvbnN0IHIyID0gMjU1IC0gcjE7CiAgICAgICAgICBjb25zdCBnMiA9IDI1NSAtIGcxOwogICAgICAgICAgY29uc3QgYjIgPSAyNTUgLSBiMTsKICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAicmdiKCIgKyByMiArICIsIiArIGcyICsgIiwiICsgYjIgKyAiKSIpOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50OwogICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7CiAgICAgICAgfQogICAgICAgIGRyYXcoKTsKICAgICAgfQogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgKCkgPT4gewogICAgICAgIGluaXRBcHAoKTsKICAgICAgICBhdXJvcmFFZmZlY3QoKTsKICAgICAgfSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiB7CiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJnQ2FudmFzIik7CiAgICAgICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgfSk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4="))));
</script>
